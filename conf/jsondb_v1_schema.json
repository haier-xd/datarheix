{
  "definitions": {},
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://jsonschema.net/",
  "type": "object",
  "required": [
    "addresses",
    "options",
    "states",
    "userActions"
  ],
  "properties": {
    "addresses": {
      "type": "object",
      "required": [
        "srcAddress",
        "optionalOutputAddress"
      ],
      "properties": {
        "srcAddress": {
          "type": "string",
          "default": "",
          "pattern": "^(.*)$"
        },
        "optionalOutputAddress": {
          "type": "string",
          "default": "",
          "pattern": "^(.*)$"
        }
      }
    },
    "options": {
      "type": "object",
      "required": [
        "rtspTcp"
      ],
      "properties": {
        "rtspTcp": {
          "type": "boolean",
          "default": false
        },
        "video": {
          "type": "object",
          "default": null,
          "required": [
            "codec",
            "preset",
            "bitrate",
            "fps"
          ],
          "properties": {
            "codec": {
              "type": "string",
              "default": "copy",
              "pattern": "^(.*)$"
            },
            "preset": {
              "type": "string",
              "default": "ultrafast",
              "pattern": "^(.*)$"
            },
            "bitrate": {
              "type": "string",
              "default": "4096",
              "pattern": "^(.*)$"
            },
            "fps": {
              "type": "string",
              "default": "25",
              "pattern": "^(.*)$"
            }
          }
        },
        "audio": {
          "type": "object",
          "required": [
            "codec",
            "preset",
            "bitrate",
            "channels",
            "sampling"
          ],
          "properties": {
            "codec": {
              "type": "string",
              "default": "copy",
              "pattern": "^(.*)$"
            },
            "preset": {
              "type": "string",
              "default": "silence",
              "pattern": "^(.*)$"
            },
            "bitrate": {
              "type": "string",
              "default": "64",
              "pattern": "^(.*)$"
            },
            "channels": {
              "type": "string",
              "default": "mono",
              "pattern": "^(.*)$"
            },
            "sampling": {
              "type": "string",
              "default": "44100",
              "pattern": "^(.*)$"
            }
          }
        }
      }
    },
    "states": {
      "type": "object",
      "required": [
        "repeatToLocalNginx",
        "repeatToOptionalOutput"
      ],
      "properties": {
        "repeatToLocalNginx": {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "default": "",
              "pattern": "^(.*)$"
            }
          }
        },
        "repeatToOptionalOutput": {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "default": "",
              "pattern": "^(.*)$"
            }
          }
        }
      }
    },
    "userActions": {
      "type": "object",
      "required": [
        "repeatToLocalNginx",
        "repeatToOptionalOutput"
      ],
      "properties": {
        "repeatToLocalNginx": {
          "type": "string",
          "default": "",
          "pattern": "^(.*)$"
        },
        "repeatToOptionalOutput": {
          "type": "string",
          "default": "",
          "pattern": "^(.*)$"
        }
      }
    }
  }
}
