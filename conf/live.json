{
    "name": "live",
    "jsondb": "db/v1",
    "auth": {
        "username": "admin",
        "password": "datarhei",
        "token": ""
    },
    "ffmpeg": {
        "options": {
            "native_h264_native_audio": [
                "-codec copy",
                "-map 0:v",
                "-map 0:a",
                "-map_metadata -1",
                "-metadata application=datarhei/Restreamer",
                "-metadata server=NGINX-RTMP",
                "-f flv"
            ],
            "native_h264_no_audio": [
                "-vcodec copy",
                "-an",
                "-map 0:v",
                "-map_metadata -1",
                "-metadata application=datarhei/Restreamer",
                "-metadata server=NGINX-RTMP",
                "-f flv"
            ],
            "native_h264_native_aac": [
                "-codec copy",
                "-map 0:v",
                "-map 0:a",
                "-bsf:a aac_adtstoasc",
                "-map_metadata -1",
                "-metadata application=datarhei/Restreamer",
                "-metadata server=NGINX-RTMP",
                "-f flv"
            ],
            "native_h264_silence_aac": [
                "-f lavfi",
                "-i anullsrc=r=44100:cl=mono",
                "-vcodec copy",
                "-acodec aac",
                "-b:a 0k",
                "-map 0:v",
                "-map 1:a",
                "-shortest",
                "-map_metadata -1",
                "-metadata application=datarhei/Restreamer",
                "-metadata server=NGINX-RTMP",
                "-f flv"
            ],
            "native_h264_transcode_aac": [
                "-vcodec copy",
                "-acodec aac",
                "-b:a 64k",
                "-map 0:v",
                "-map 0:a",
                "-map_metadata -1",
                "-metadata application=datarhei/Restreamer",
                "-metadata server=NGINX-RTMP",
                "-f flv"
            ],
            "input": [
                "-hide_banner",
                "-stats",
                "-loglevel quiet",
                "-err_detect ignore_err"
            ],
            "snapshot": "-vframes 1"
        },
        "monitor": {
            "restart_wait": "6000",
            "stale_wait": "60000"
        }
    },
    "nginx": {
        "command": "/usr/local/nginx/sbin/nginx",
        "args": [
            "-c",
            "/restreamer/conf/nginx.conf"
        ],
        "streaming": {
            "ip": "127.0.0.1",
            "rtmp_port": "1935",
            "rtmp_hls_path": "/hls/",
            "http_port": "8080",
            "http_health_path": "/ping"
        }
    },
    "envVars": [
        {
            "name": "RS_NODE_PORT",
            "alias": "NODEJS_PORT",
            "type": "int",
            "defaultValue": "3000",
            "required": false,
            "description": "Webserver port of application"
        },
        {
            "name": "RS_NODE_ENV",
            "alias": "NODE_ENV",
            "type": "string",
            "defaultValue": "prod",
            "required": false,
            "description": "Nodejs Environment"
        },
        {
            "name": "RS_LOGGER_LEVEL",
            "alias": "LOGGER_LEVEL",
            "type": "int",
            "defaultValue": "3",
            "required": true,
            "description": "Logger level to defined, what should be logged"
        },
        {
            "name": "RS_TIMEZONE",
            "alias": "TIMEZONE",
            "type": "string",
            "defaultValue": "Europe/Berlin",
            "required": true,
            "description": "Set the timezone"
        },
        {
            "name": "RS_SNAPSHOT_REFRESH_INTERVAL",
            "alias": "SNAPSHOT_REFRESH_INTERVAL",
            "type": "string",
            "defaultValue": "1m",
            "required": false,
            "description": "Interval to create a new Snapshot (in minutes)"
        },
        {
            "name": "RS_CREATE_HEAPDUMPS",
            "alias": "CREATE_HEAPDUMPS",
            "type": "bool",
            "defaultValue": "false",
            "required": false,
            "description": "Create Heapdumps of application"
        },
        {
            "name": "RS_USERNAME",
            "alias": "RESTREAMER_USERNAME",
            "type": "string",
            "defaultValue": "admin",
            "required": false,
            "description": "Backend user name"
        },
        {
            "name": "RS_PASSWORD",
            "alias": "RESTREAMER_PASSWORD",
            "type": "string",
            "defaultValue": "datarhei",
            "required": false,
            "description": "Backend login password"
        },
        {
            "name": "RS_FFMPEG_DEBUG",
            "alias": "",
            "type": "bool",
            "defaultValue": false,
            "required": false,
            "description": "Enables FFmpeg reporting"
        },
        {
            "name": "RS_AUDIO",
            "alias": "",
            "type": "string",
            "defaultValue": "auto",
            "required": false,
            "description": "Handling of audio track: auto, none (force no audio), silence (force silence), aac (force AAC)"
        }
    ]
}
